<?sap.transform simple?>
<tt:transform xmlns:tt="http://www.sap.com/transformation-templates" xmlns:ddic="http://www.sap.com/abapxml/types/dictionary">

  <tt:root name="DATA" type="ddic:ZSDSSDS041"/>
  <tt:variable name="MARKED" val="1"/>

  <tt:template>

    <object>
      <!-- Sales Order Header -->
      <tt:group>
        <tt:cond frq="?">
          <!-- ? = Optional, 1 = Required-->
          <str name="SAPQuotationNo">
            <tt:value ref="DATA.SAPQUOTATIONNO"/>
          </str>
        </tt:cond>
        <tt:cond frq="?">
          <str name="SFQuotationNo">
            <tt:value ref="DATA.SFQUOTATIONNO"/>
          </str>
        </tt:cond>
        <tt:cond frq="?">
          <str name="ResponseStatus">
            <tt:value ref="DATA.RESP_STATUS"/>
          </str>
        </tt:cond>
        <tt:cond frq="?">
          <str name="ResponseMessage">
            <tt:value ref="DATA.RESP_MESSAGE"/>
          </str>
        </tt:cond>
      </tt:group>

          <array name="QuoteItem">
          <tt:cond check="exist(DATA.QUOTEITEM)">
           <tt:loop ref="DATA.QUOTEITEM">
            <object>
              <tt:group>
                <!--             Quotation Item -->
                <tt:cond frq="?">
                  <str name="ItemNo">
                    <tt:value ref="$ref.ITEMNO"/>
                  </str>
                </tt:cond>
              </tt:group>


              <array name="ScheduleLine">
                <tt:cond check="exist($ref.SCHEDULELINE)">
                  <tt:loop ref="$ref.SCHEDULELINE">
                    <object>
                      <tt:group>

                        <tt:cond frq="?">
                          <str name="ScheduleLineNumber">
                            <tt:value ref="$ref.SCHEDULELINENUMBER"/>
                          </str>
                        </tt:cond>
                        <tt:cond frq="?">
                          <str name="Status">
                            <tt:value ref="$ref.STATUS"/>
                          </str>
                        </tt:cond>
                        <tt:cond frq="?">
                          <str name="SONumber">
                            <tt:value ref="$ref.SONUMBER"/>
                          </str>
                        </tt:cond>
                        <tt:cond frq="?">
                          <str name="SOItem">
                            <tt:value ref="$ref.SOITEM"/>
                          </str>
                        </tt:cond>
                        <tt:cond frq="?">
                          <str name="DONumber">
                            <tt:value ref="$ref.DONUMBER"/>
                          </str>
                        </tt:cond>
                        <tt:cond frq="?">
                          <str name="DOItem">
                            <tt:value ref="$ref.DOITEM"/>
                          </str>
                        </tt:cond>


                      </tt:group>
                    </object>
                  </tt:loop>
                </tt:cond>
              </array>

            </object>
          </tt:loop>
        </tt:cond>
      </array>


      <tt:cond check="exist(DATA.RESPONSE)">
        <array name="Response">
          <tt:loop ref="DATA.RESPONSE">

            <object>
              <tt:group>
                <tt:cond frq="?">
                  <str name="Status">
                    <tt:value ref="$ref.RESP_STATUS"/>
                  </str>
                </tt:cond>
                <tt:cond frq="?">
                  <str name="Message">
                    <tt:value ref="$ref.RESP_MESSAGE"/>
                  </str>
                </tt:cond>
              </tt:group>
            </object>
          </tt:loop>
        </array>
      </tt:cond>


    </object>

  </tt:template>

</tt:transform>
